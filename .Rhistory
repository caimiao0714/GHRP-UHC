2017-1972
2017-1980
fs::dir_ls('Data/')
fs::dir_ls('Data/UHC_CSV')
csv_files = fs::dir_ls('Data/UHC_CSV', regexp = "\\.csv$")
dat <- csv_files %>%
purrr::map_dfr(read_csv)
require(tidyverse)
dat <- csv_files %>%
purrr::map_dfr(read_csv)
View(dat)
csv_files = list.files('Data/UHC_CSV', regexp = "\\.csv$")
csv_files = list.files('Data/UHC_CSV')
csv_files = list.files('Data/UHC_CSV', pattern = '.csv$')
for (i in seq_along(csv_files)) {
assign(gsub(".csv", "", csv_files),
readr::read_csv(i))
}
for (i in seq_along(csv_files)) {
assign(gsub(".csv", "", csv_files),
readr::read_csv(paste0('Data/UHC_CSV/', i)))
}
csv_files = list.files('Data/UHC_CSV', pattern = '.csv$')
csv_files
for (i in seq_along(csv_files)) {
paste0('Data/UHC_CSV/', i)
}
for (i in seq_along(csv_files)) {
print(paste0('Data/UHC_CSV/', i))
}
for (i in csv_files) {
print(paste0('Data/UHC_CSV/', i))
}
for (i in csv_files){
assign(gsub(".csv", "", csv_files),
readr::read_csv(paste0('Data/UHC_CSV/', i)))
}
for (i in csv_files){
assign(gsub(".csv", "", i),
readr::read_csv(paste0('Data/UHC_CSV/', i)))
}
rm(dat)
View(UHCCountry)
View(UHCData)
View(UHCSeries)
View(UHCData)
require(tidyverse)
wbank = read.csv('Data/d8871a79-5272-4d42-9039-d8522d2b12ea_Data.csv')
View(wbank)
pacman::p_load(tidyverse, tidyr)
wbank = read.csv('Data/d8871a79-5272-4d42-9039-d8522d2b12ea_Data.csv', na.strings = '..')
d1 = wbank %>%
select(country = Ã¯..Country.Name, countrycode = Country.Code,
var_name = Series.Name,  var_code = Series.Code, everything())
names(wbank)
pacman::p_load(tidyverse, tidyr)
wbank = read.csv('Data/d8871a79-5272-4d42-9039-d8522d2b12ea_Data.csv', na.strings = '..')
d1 = wbank %>%
select(country = Country.Name, countrycode = Country.Code,
var_name = Series.Name,  var_code = Series.Code, everything())
d1 = wbank %>%
select(country = Country.Name, countrycode = Country.Code,
var_name = Series.Name,  var_code = Series.Code, everything()) %>%
select(-countrycode, - var_name)
dlong = d1 %>%
gather(key = 'year', value = 'value', -country, -var_code)
View(dlong)
dlong = d1 %>%
gather(key = 'year', value = 'value', -country, -var_code) %>%
na.omit()
count(dlong, year)
dlong = d1 %>%
gather(key = 'year', value = 'value', -country, -var_code) %>%
na.omit() %>%
mutate(year = as.integer(substr(year, 2, 5)))
count(dlong, year)
length(unique(dlong$country))
